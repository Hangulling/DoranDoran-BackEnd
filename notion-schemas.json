{
  "Agents": {
    "properties": {
      "이름": { "title": {} },
      "목적/역할": { "rich_text": {} },
      "입력": { "rich_text": {} },
      "출력": { "rich_text": {} },
      "규칙": { "rich_text": {} },
      "예외/실패": { "rich_text": {} },
      "호출 타이밍": { "select": { "options": [
        {"name": "병렬"}, {"name": "순차"}, {"name": "스트림"}, {"name": "집계"}
      ]}},
      "응답 처리 흐름": { "rich_text": {} },
      "관련 엔드포인트": { "relation": { "database_id": "API_ENDPOINTS_DB_ID" }},
      "관련 엔티티/프롬프트": { "rich_text": {} },
      "소스 코드": { "url": {} },
      "활성": { "checkbox": {} },
      "Retry/Backoff": { "rich_text": {} },
      "최소 보장 응답": { "rich_text": {} },
      "메트릭(토큰/지연/실패율)": { "rich_text": {} },
      "프롬프트 버전": { "number": {} },
      "변경 사유": { "rich_text": {} },
      "적용 일시": { "date": {} }
    }
  },
  "SSE Events": {
    "properties": {
      "이벤트명": { "title": {} },
      "페이로드 스키마": { "rich_text": {} },
      "발신 주체": { "select": { "options": [
        {"name": "Orchestrator"}, {"name": "Agent"}
      ]}},
      "트리거 타이밍": { "select": { "options": [
        {"name": "Phase 1"}, {"name": "Phase 2"}, {"name": "Phase 3"}, {"name": "Phase 4"}
      ]}},
      "관련 채팅방/메시지": { "rich_text": {} },
      "관련 에이전트": { "relation": { "database_id": "AGENTS_DB_ID" }},
      "에러 처리": { "rich_text": {} },
      "비고": { "rich_text": {} },
      "Retry/Backoff": { "rich_text": {} },
      "전송 성공률": { "number": {} },
      "지연(ms)": { "number": {} }
    }
  },
  "API Endpoints": {
    "properties": {
      "메서드/경로": { "title": {} },
      "설명": { "rich_text": {} },
      "요청 DTO": { "rich_text": {} },
      "요청 헤더": { "rich_text": {} },
      "응답 DTO": { "rich_text": {} },
      "인증": { "select": { "options": [
        {"name": "Public"}, {"name": "Bearer"}, {"name": "Role"}
      ]}},
      "호출 시나리오": { "rich_text": {} },
      "관련 에이전트": { "relation": { "database_id": "AGENTS_DB_ID" }},
      "SSE 연계": { "multi_select": { "options": [
        {"name": "intimacy_analysis"}, {"name": "vocabulary_extracted"}, {"name": "vocabulary_translated"},
        {"name": "conversation_chunk"}, {"name": "conversation_complete"}, {"name": "aggregated_complete"},
        {"name": "conversation_error"}, {"name": "agent_error"}
      ]}},
      "에러 코드": { "rich_text": {} },
      "소스 코드": { "url": {} }
    }
  },
  "DTOs": {
    "properties": {
      "이름": { "title": {} },
      "위치": { "rich_text": {} },
      "필드·타입": { "rich_text": {} },
      "사용처": { "relation": { "database_id": "API_ENDPOINTS_DB_ID" }},
      "검증 규칙": { "rich_text": {} },
      "비고": { "rich_text": {} }
    }
  },
  "Error Catalog": {
    "properties": {
      "이름": { "title": {} },
      "소스": { "select": { "options": [
        {"name": "Controller"}, {"name": "Agent"}, {"name": "Orchestrator"}, {"name": "SSE"}
      ]}},
      "예외 타입": { "rich_text": {} },
      "메시지/코드": { "rich_text": {} },
      "대응 방안": { "rich_text": {} },
      "사용자 노출": { "checkbox": {} },
      "관련 엔드포인트": { "relation": { "database_id": "API_ENDPOINTS_DB_ID" }},
      "관련 이벤트": { "relation": { "database_id": "SSE_EVENTS_DB_ID" }}
    }
  },
  "Flow Steps": {
    "properties": {
      "단계명": { "title": {} },
      "설명": { "rich_text": {} },
      "트리거": { "rich_text": {} },
      "입력": { "rich_text": {} },
      "출력": { "rich_text": {} },
      "다음 단계": { "rich_text": {} },
      "관련 이벤트": { "relation": { "database_id": "SSE_EVENTS_DB_ID" }},
      "관련 엔드포인트": { "relation": { "database_id": "API_ENDPOINTS_DB_ID" }}
    }
  },
  "Chatbot Config": {
    "properties": {
      "이름": { "title": {} },
      "bot_type": { "select": {} },
      "model_name": { "rich_text": {} },
      "system_prompt": { "rich_text": {} },
      "intimacy_system_prompt": { "rich_text": {} },
      "intimacy_user_prompt": { "rich_text": {} },
      "vocabulary_system_prompt": { "rich_text": {} },
      "vocabulary_user_prompt": { "rich_text": {} },
      "translation_system_prompt": { "rich_text": {} },
      "translation_user_prompt": { "rich_text": {} },
      "capabilities": { "rich_text": {} },
      "settings": { "rich_text": {} },
      "intimacy_level": { "number": {} },
      "활성": { "checkbox": {} },
      "소스": { "url": {} },
      "프롬프트 버전": { "number": {} },
      "변경 사유": { "rich_text": {} },
      "적용 일시": { "date": {} }
    }
  },
  "Intimacy Progress": {
    "properties": {
      "chatroom_id": { "rich_text": {} },
      "user_id": { "rich_text": {} },
      "intimacy_level": { "number": {} },
      "total_corrections": { "number": {} },
      "last_feedback": { "rich_text": {} },
      "progress_data": { "rich_text": {} },
      "last_updated": { "date": {} }
    }
  }
}
